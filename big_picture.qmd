---
title: "Story and Question"
description: ""
toc: true
draft: FALSE
filters: 
  - shinylive
---

Potholes, cracks, and worn-out pavement—when we think about what causes traffic accidents, poor road conditions are often the first thing that comes to mind. But is the connection as straightforward as it seems?

To find out, we dug into the data to see how road quality, weather, and surface conditions shape the likelihood of accidents. What we found might surprise you. While pavement conditions do play a role, they’re far from the whole story.

**Road Quality Isn’t Everything**

Roads are rated by the Pavement Condition Index (PCI), which measures their quality on a scale from terrible to perfect. If bad roads mean more accidents, we should see a clear relationship between PCI and accident counts.

Instead? The connection is weak. A scatter plot with a trend line shows that while better roads slightly reduce accidents, the trend is subtle.

What does this mean? Road conditions alone don’t explain much. Other factors—like weather and what’s on the road surface—may matter even more.

**When Weather and Wet Roads Take the Wheel**

Here’s where it gets interesting, wet surfaces (like roads after a storm) significantly increase accident counts.Rainy weather, on the other hand, seems to have the opposite effect—it actually reduces accidents.How does that make sense? It turns out drivers tend to slow down and be more careful when it’s raining, even though wet roads themselves are a major hazard.

A multivariate visualization brings this dynamic to life, showing how weather and surface conditions interact with PCI to impact accidents.

**It’s Not a Straight Line Complex Patterns in the Data**

When we examined the relationship between PCI and accidents further, a surprising pattern emerged. Instead of a simple straight-line relationship, we found a U-shaped trend.

This means accidents were more frequent at moderate PCI levels than at very high or very low PCI levels. Why? It’s hard to say for sure, but this might reflect how drivers behave or how other factors like traffic volume play a role.

Our polynomial regression plot captures this complexity and adds a new layer to the story, road conditions affect accidents in more complicated ways than we expected.

**Get Behind the Wheel, Explore the Data Yourself**

Want to see these patterns for yourself? We’ve built an interactive dashboard where you can dig into the data.

Toggle between weather conditions to see how rain or wet roads impact accident trends. Compare the results of linear and nonlinear models to understand the bigger picture. It’s an easy way to explore what’s happening on our roads and what factors matter most.

**The Big Takeaways: Better Roads Help—But Not Much**

While smoother pavement is linked to slightly fewer accidents, the effect is small. Weather and Wet Roads Matter More Wet roads increase accidents, while rainy weather may make drivers more cautious.

Complex Relationships

The U-shaped trend between PCI and accidents shows how other factors—like driver behavior or traffic flow—play a big role. What This Means for Safer Roads

Our findings point to a broader truth

keeping roads safe takes more than just paving over potholes. It means targeting the biggest risks, like managing wet-road hazards and encouraging safer driving during bad weather.

By understanding these dynamics, we can make smarter decisions—whether that’s where to invest in road improvements or how to educate drivers about staying safe in tough conditions.

So, the next time you drive on a cracked road or slow down in the rain, remember, every condition tells a story. And with the right insights, we can make that story a little safer for everyone.

```{shinylive-r}
#| echo: false
#| standalone: true
#| viewerHeight: 640
#| embed-resources: false 
suppressPackageStartupMessages(library(shiny))
suppressPackageStartupMessages(library(tidyverse))

options("readr.edition" = 1)

# Define UI for app ----
ui <- fluidPage(
  
  # App title ----
  titlePanel("Interactive Crash Data Exploration"),
  
  # Sidebar layout with input and output definitions ----
  sidebarLayout(
    # Sidebar panel for inputs
    sidebarPanel(
      # Input: Select column to visualize
      selectInput(inputId = "selected_column", 
                  label = "Select a Column to Visualize:",
                  choices = c("Speed.Limit", "Injury.Severity", "Surface.Condition"),
                  selected = "Speed.Limit"),
      
      # Input: Slider for the number of bins
      sliderInput(inputId = "bins",
                  label = "Number of bins:",
                  min = 1,
                  max = 50,
                  value = 20)
    ),
    
    # Main panel for displaying outputs
    mainPanel(
      # Output: Histogram
      plotOutput(outputId = "histPlot"),
      
      # Display Insights
      verbatimTextOutput(outputId = "summary")
    )
  )
)

# Define server logic ----
server <- function(input, output) {
  
  # Load data from the provided URL
  data <- read_rds("https://sussmanbu.github.io/ma-4615-fa24-final-project-group-1/scripts/subset_data.rds")
  # Updated histogram/bar plot logic
  output$histPlot <- renderPlot({
    if (is.numeric(data[[input$selected_column]])) {
      # Numeric columns: Use histogram
      ggplot(data, aes(x = !!sym(input$selected_column))) +
        geom_histogram(bins = input$bins, fill = "steelblue", color = "black") +
        labs(x = input$selected_column, y = "Count",
             title = paste("Histogram of", input$selected_column)) +
        theme_minimal()
    } else {
      # Categorical columns: Use bar chart
      ggplot(data, aes(x = !!sym(input$selected_column))) +
        geom_bar(fill = "steelblue", color = "black") +
        labs(x = input$selected_column, y = "Count",
             title = paste("Bar Chart of", input$selected_column)) +
        theme_minimal()
    }
  })
  
  # Generate insights based on selected column
  output$summary <- renderPrint({
    selected_data <- data[[input$selected_column]]
    if (input$selected_column == "Speed.Limit") {
      avg_speed <- mean(selected_data, na.rm = TRUE)
      cat("Average Speed Limit (when crash occurred):", round(avg_speed, 2), "mph")
    } else if (input$selected_column == "Injury.Severity") {
      cat("Injury Severity Counts:\n")
      print(table(selected_data, useNA = "ifany"))
    } else if (input$selected_column == "Surface.Condition") {
      cat("Surface Condition Distribution:\n")
      print(table(selected_data, useNA = "ifany"))
    }
  })
}


# Create Shiny app ----
shinyApp(ui, server)

```